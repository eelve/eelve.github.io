{"title":"安装yarn实况","slug":"安装yarn实况","date":"2019-08-09T09:12:12.000Z","updated":"2021-04-19T06:44:39.230Z","comments":true,"path":"api/articles/安装yarn实况.json","excerpt":null,"covers":["https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png"],"content":"<p>【<strong>前情提要</strong>】最近在gayhub上面得到一个开源项目，遂准备研究一下源码，当然第一步就是要把项目运行起来。然后看了一下技术栈，发现包管理工具是使用yarn，以前也听说过yarn但是也没有具体使用过，只知道是facebook发布的包管理程序。</p>\n<h1 id=\"壹、安装\"><a href=\"#壹、安装\" class=\"headerlink\" title=\"壹、安装\"></a>壹、安装</h1><p>1.下载node.js，使用npm安装 </p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g yarn </span><br><span class=\"line\">查看版本：yarn --version</span><br></pre></td></tr></table></figure>\n<p>2.安装node.js,下载yarn的安装程序: </p>\n<p><a href=\"https://yarnpkg.com/en/docs/install#windows-stable\"> 提供一个.msi文件，在运行时将引导您在Windows上安装Yarn</a></p>\n<p>3.Yarn 淘宝源安装，分别复制粘贴以下代码行到黑窗口运行即可 </p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn config set registry https://registry.npm.taobao.org -g </span><br><span class=\"line\">yarn config set sass_binary_site http://cdn.npm.taobao.org/dist/node-sass -g</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"贰、踩坑时刻\"><a href=\"#贰、踩坑时刻\" class=\"headerlink\" title=\"贰、踩坑时刻\"></a>贰、踩坑时刻</h1><p>1.yarn使用时候报错信息：</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error: Could not create the Java Virtual Machine.</span><br><span class=\"line\">Error: A fatal exception has occurred. Program will exit.</span><br></pre></td></tr></table></figure>\n<p>2.检测yarn版本 yarn version</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">D:\\Seven\\ways\\hadoop-2.7.3&gt;yarn version  ok</span><br><span class=\"line\">Hadoop 2.7.3</span><br><span class=\"line\">Subversion https://git-wip-us.apache.org/repos/asf/hadoop.git -r b3fe56402d908019d99af1f1f4fc65cb1d1436a2</span><br><span class=\"line\">Compiled by jdu on 2017-12-05T03:43Z</span><br><span class=\"line\">Compiled with protoc 2.5.0</span><br><span class=\"line\">From source with checksum 9ff4856d824e983fa510d3f843e3f19d</span><br><span class=\"line\">This command was run using /D:/Seven/ways/hadoop-2.7.3/share/hadoop/common/hadoop-common-2.7.3.jar</span><br></pre></td></tr></table></figure>\n<p>3.检测yarn版本 yarn –version 报错</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">D:\\Seven\\ways\\hadoop-2.7.3&gt;yarn --version</span><br><span class=\"line\">Unrecognized option: --version</span><br><span class=\"line\">Error: Could not create the Java Virtual Machine.</span><br><span class=\"line\">Error: A fatal exception has occurred. Program will exit.</span><br></pre></td></tr></table></figure>\n<p>4.安装依赖包  报错</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">D:\\Seven\\ways\\hadoop-2.7.3&gt;yarn install</span><br><span class=\"line\">错误: 找不到或无法加载主类 install</span><br></pre></td></tr></table></figure>\n<p>5.最后没办法重新下载windows安装包<a href=\"https://yarnpkg.com/en/docs/install#windows-stable\"> 提供一个.msi文件，在运行时将引导您在Windows上安装Yarn</a></p>\n<p>安装 -&gt; 测试 -&gt; 报错 -&gt; 检测原因 -&gt; 没有配置环境变量 -&gt; 继续报错,检测原因 -&gt; java安装环境中有默认的yarn -&gt; 环境变量配置在它前面</p>\n<p>6.测试</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Microsoft Windows [版本 10.0.18362.239]</span><br><span class=\"line\">(c) 2019 Microsoft Corporation。保留所有权利。</span><br><span class=\"line\"></span><br><span class=\"line\">C:\\Users\\Chirius&gt;yarn --version</span><br><span class=\"line\">1.17.3</span><br><span class=\"line\"></span><br><span class=\"line\">C:\\Users\\Chirius&gt;</span><br></pre></td></tr></table></figure>\n\n\n<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","more":"<p>【<strong>前情提要</strong>】最近在gayhub上面得到一个开源项目，遂准备研究一下源码，当然第一步就是要把项目运行起来。然后看了一下技术栈，发现包管理工具是使用yarn，以前也听说过yarn但是也没有具体使用过，只知道是facebook发布的包管理程序。</p>\n<h1 id=\"壹、安装\"><a href=\"#壹、安装\" class=\"headerlink\" title=\"壹、安装\"></a>壹、安装</h1><p>1.下载node.js，使用npm安装 </p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g yarn </span><br><span class=\"line\">查看版本：yarn --version</span><br></pre></td></tr></table></figure>\n<p>2.安装node.js,下载yarn的安装程序: </p>\n<p><a href=\"https://yarnpkg.com/en/docs/install#windows-stable\"> 提供一个.msi文件，在运行时将引导您在Windows上安装Yarn</a></p>\n<p>3.Yarn 淘宝源安装，分别复制粘贴以下代码行到黑窗口运行即可 </p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn config set registry https://registry.npm.taobao.org -g </span><br><span class=\"line\">yarn config set sass_binary_site http://cdn.npm.taobao.org/dist/node-sass -g</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"贰、踩坑时刻\"><a href=\"#贰、踩坑时刻\" class=\"headerlink\" title=\"贰、踩坑时刻\"></a>贰、踩坑时刻</h1><p>1.yarn使用时候报错信息：</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error: Could not create the Java Virtual Machine.</span><br><span class=\"line\">Error: A fatal exception has occurred. Program will exit.</span><br></pre></td></tr></table></figure>\n<p>2.检测yarn版本 yarn version</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">D:\\Seven\\ways\\hadoop-2.7.3&gt;yarn version  ok</span><br><span class=\"line\">Hadoop 2.7.3</span><br><span class=\"line\">Subversion https://git-wip-us.apache.org/repos/asf/hadoop.git -r b3fe56402d908019d99af1f1f4fc65cb1d1436a2</span><br><span class=\"line\">Compiled by jdu on 2017-12-05T03:43Z</span><br><span class=\"line\">Compiled with protoc 2.5.0</span><br><span class=\"line\">From source with checksum 9ff4856d824e983fa510d3f843e3f19d</span><br><span class=\"line\">This command was run using /D:/Seven/ways/hadoop-2.7.3/share/hadoop/common/hadoop-common-2.7.3.jar</span><br></pre></td></tr></table></figure>\n<p>3.检测yarn版本 yarn –version 报错</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">D:\\Seven\\ways\\hadoop-2.7.3&gt;yarn --version</span><br><span class=\"line\">Unrecognized option: --version</span><br><span class=\"line\">Error: Could not create the Java Virtual Machine.</span><br><span class=\"line\">Error: A fatal exception has occurred. Program will exit.</span><br></pre></td></tr></table></figure>\n<p>4.安装依赖包  报错</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">D:\\Seven\\ways\\hadoop-2.7.3&gt;yarn install</span><br><span class=\"line\">错误: 找不到或无法加载主类 install</span><br></pre></td></tr></table></figure>\n<p>5.最后没办法重新下载windows安装包<a href=\"https://yarnpkg.com/en/docs/install#windows-stable\"> 提供一个.msi文件，在运行时将引导您在Windows上安装Yarn</a></p>\n<p>安装 -&gt; 测试 -&gt; 报错 -&gt; 检测原因 -&gt; 没有配置环境变量 -&gt; 继续报错,检测原因 -&gt; java安装环境中有默认的yarn -&gt; 环境变量配置在它前面</p>\n<p>6.测试</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Microsoft Windows [版本 10.0.18362.239]</span><br><span class=\"line\">(c) 2019 Microsoft Corporation。保留所有权利。</span><br><span class=\"line\"></span><br><span class=\"line\">C:\\Users\\Chirius&gt;yarn --version</span><br><span class=\"line\">1.17.3</span><br><span class=\"line\"></span><br><span class=\"line\">C:\\Users\\Chirius&gt;</span><br></pre></td></tr></table></figure>\n\n\n<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","categories":[{"name":"node","path":"api/categories/node.json"}],"tags":[{"name":"yarn","path":"api/tags/yarn.json"}]}