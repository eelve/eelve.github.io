{"total":77,"pageSize":10,"pageCount":8,"data":[{"title":"Elastic Stack实战之Elasticsearch初体验(一)","slug":"Elastic-Stack实战之Elasticsearch初体验(一)","date":"2020-03-01T04:34:22.000Z","updated":"2021-04-19T06:52:48.628Z","comments":true,"path":"api/articles/Elastic-Stack实战之Elasticsearch初体验(一).json","excerpt":null,"keywords":"南国薏米","cover":"https://image.eelve.com/eblog/2020010301-5b565f99650d4acbb3ba464408dca641.png","content":"<p>【<strong>前面的话</strong>】前面已经准备好了服务器环境，今天就来开始安装<a href=\"https://www.elastic.co/cn/elasticsearch\">Elasticsearch</a>然后体验。</p>\n<hr>\n<h1 id=\"壹、软件版本\"><a href=\"#壹、软件版本\" class=\"headerlink\" title=\"壹、软件版本\"></a>壹、软件版本</h1><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">Centos：CentOS-7-x86_64-Minimal-1908</span></span><br><span class=\"line\"><span class=\"attr\">VM:</span> <span class=\"number\">15.5</span><span class=\"number\">.0</span> <span class=\"string\">build-14665864</span></span><br><span class=\"line\"><span class=\"attr\">Java:</span> <span class=\"number\">1.8</span><span class=\"string\">.0_211</span></span><br><span class=\"line\"><span class=\"attr\">Elasticsearch:</span> <span class=\"string\">elasticsearch-7.6.0</span></span><br></pre></td></tr></table></figure>\n<p>这里说一下，Elasticsearch是依赖Java环境的，elasticsearch-7.6.0要求至少为1.8，官方建议为11.如果你的机器上还没有Java环境的话，记得要先准备环境。当然安装也是非常简单：</p>\n<p>1.下载linux版本的jdk</p>\n<p>2.解压然后配置环境变量</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">java environment</span></span><br><span class=\"line\">export JAVA_HOME=/usr/jdk</span><br><span class=\"line\">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/jre/lib/rt.jar:$&#123;JAVA_HOME&#125;/lib/dt.jar:$&#123;JAVA_HOME&#125;/lib/tools.jar</span><br><span class=\"line\">export PATH=$PATH:$&#123;JAVA_HOME&#125;/bin</span><br></pre></td></tr></table></figure>\n<p>3.刷新环境变量，检查结果</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 ~]# source /etc/profile</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 ~]# java -version</span><br><span class=\"line\">java version &quot;1.8.0_211&quot;</span><br><span class=\"line\">Java(TM) SE Runtime Environment (build 1.8.0_211-b12)</span><br><span class=\"line\">Java HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"贰、Elasticsearch安装\"><a href=\"#贰、Elasticsearch安装\" class=\"headerlink\" title=\"贰、Elasticsearch安装\"></a>贰、Elasticsearch安装</h1><h2 id=\"2-1-下载地址\"><a href=\"#2-1-下载地址\" class=\"headerlink\" title=\"2.1 下载地址\"></a>2.1 下载地址</h2><h2 id=\"elasticsearch-7-6-0-linux-x86-64-tar-gz\"><a href=\"#elasticsearch-7-6-0-linux-x86-64-tar-gz\" class=\"headerlink\" title=\"elasticsearch-7.6.0-linux-x86_64.tar.gz\"></a><a href=\"https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.6.0-linux-x86_64.tar.gz\">elasticsearch-7.6.0-linux-x86_64.tar.gz</a></h2><h2 id=\"2-2-解压elasticsearch-7-6-0-linux-x86-64-tar-gz\"><a href=\"#2-2-解压elasticsearch-7-6-0-linux-x86-64-tar-gz\" class=\"headerlink\" title=\"2.2 解压elasticsearch-7.6.0-linux-x86_64.tar.gz\"></a>2.2 解压elasticsearch-7.6.0-linux-x86_64.tar.gz</h2><figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zvxf elasticsearch-7.6.0-linux-x86_64.tar.gz -C /usr/elastic</span><br></pre></td></tr></table></figure>\n<h2 id=\"2-3-修改elasticsearch配置\"><a href=\"#2-3-修改elasticsearch配置\" class=\"headerlink\" title=\"2.3 修改elasticsearch配置\"></a>2.3 修改elasticsearch配置</h2><figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 elastic]# cd /usr/elastic/elasticsearch/config/</span><br><span class=\"line\">[root@192 config]# vi elasticsearch.yml</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>下面给出单机版安装最小配置</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">node.name:</span> <span class=\"string\">node-1</span> <span class=\"comment\">#节点名字</span></span><br><span class=\"line\"><span class=\"attr\">network.host:</span> <span class=\"number\">0.0</span><span class=\"number\">.0</span><span class=\"number\">.0</span> <span class=\"comment\">#生产配置为127.0.0.1，测试可以为其他地址</span></span><br><span class=\"line\"><span class=\"attr\">http.port:</span> <span class=\"number\">9200</span> <span class=\"comment\">#端口</span></span><br><span class=\"line\"><span class=\"attr\">cluster.initial_master_nodes:</span> [<span class=\"string\">&quot;node-1&quot;</span>] <span class=\"comment\">#初始化master节点</span></span><br><span class=\"line\"><span class=\"attr\">http.cors.enabled:</span> <span class=\"literal\">true</span>  <span class=\"comment\">#开启跨域</span></span><br><span class=\"line\"><span class=\"attr\">http.cors.allow-origin:</span> <span class=\"string\">&quot;*&quot;</span> <span class=\"comment\">#开启跨域</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"2-4-后台启动\"><a href=\"#2-4-后台启动\" class=\"headerlink\" title=\"2.4 后台启动\"></a>2.4 后台启动</h2><figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 bin]# ./elasticsearch</span><br><span class=\"line\">[1] 1620</span><br><span class=\"line\">[root@192 bin]# future versions of Elasticsearch will require Java 11; your Java version from [/usr/jdk/jre] does not meet this requirement</span><br><span class=\"line\">[2020-03-01T11:55:38,871][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [node-1] uncaught exception in thread [main]</span><br><span class=\"line\">org.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:174) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:161) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:125) ~[elasticsearch-cli-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:126) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">Caused by: java.lang.RuntimeException: can not run elasticsearch as root</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:105) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:172) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\t... 6 more</span><br><span class=\"line\">uncaught exception in thread [main]</span><br><span class=\"line\">java.lang.RuntimeException: can not run elasticsearch as root</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:105)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:172)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:161)</span><br><span class=\"line\">\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)</span><br><span class=\"line\">\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:125)</span><br><span class=\"line\">\tat org.elasticsearch.cli.Command.main(Command.java:90)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:126)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92)</span><br><span class=\"line\">For complete error details, refer to the log at /usr/elastic/elasticsearch/logs/eelve.log</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>这里说的是elasticsearch不能用root用户启动，这里就需要添加一个用户，然后重新启动</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 bin]# adduser iio</span><br><span class=\"line\">[root@192 bin]# passwd iio</span><br><span class=\"line\">Changing password for user iio.</span><br><span class=\"line\">New password: </span><br><span class=\"line\">Retype new password: </span><br><span class=\"line\">passwd: all authentication tokens updated successfully.</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>然后更改elasticsearch用户组</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 bin]# chown -R iio:iio /usr/elastic/elasticsearch/</span><br></pre></td></tr></table></figure>\n<p>然后就可以启动成功了</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 bin]# su iio</span><br><span class=\"line\">[iio@192 bin]$ ./elasticsearch</span><br><span class=\"line\">future versions of Elasticsearch will require Java 11; your Java version from [/usr/jdk/jre] does not meet this requirement</span><br><span class=\"line\">[2020-03-01T12:03:32,970][INFO ][o.e.e.NodeEnvironment    ] [node-1] using [1] data paths, mounts [[/ (rootfs)]], net usable_space [20.9gb], net total_space [25.9gb], types [rootfs]</span><br><span class=\"line\">[2020-03-01T12:03:32,972][INFO ][o.e.e.NodeEnvironment    ] [node-1] heap size [990.7mb], compressed ordinary object pointers [true]</span><br><span class=\"line\">[2020-03-01T12:03:33,103][INFO ][o.e.n.Node               ] [node-1] node name [node-1], node ID [2IBvVjP0QbeA-FDLFoLFFg], cluster name [eelve]</span><br><span class=\"line\">[2020-03-01T12:03:33,103][INFO ][o.e.n.Node               ] [node-1] version[7.6.0], pid[1952], build[default/tar/7f634e9f44834fbc12724506cc1da681b0c3b1e3/2020-02-06T00:09:00.449973Z], OS[Linux/3.10.0-1062.el7.x86_64/amd64], JVM[Oracle Corporation/Java HotSpot(TM) 64-Bit Server VM/1.8.0_211/25.211-b12]</span><br><span class=\"line\">[2020-03-01T12:03:33,103][INFO ][o.e.n.Node               ] [node-1] JVM home [/usr/jdk/jre]</span><br><span class=\"line\">[2020-03-01T12:03:33,104][INFO ][o.e.n.Node               ] [node-1] JVM arguments [-Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dio.netty.allocator.numDirectArenas=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.locale.providers=COMPAT, -Xms1g, -Xmx1g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -Djava.io.tmpdir=/tmp/elasticsearch-5828849950285366888, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -XX:+PrintGCDetails, -XX:+PrintGCDateStamps, -XX:+PrintTenuringDistribution, -XX:+PrintGCApplicationStoppedTime, -Xloggc:logs/gc.log, -XX:+UseGCLogFileRotation, -XX:NumberOfGCLogFiles=32, -XX:GCLogFileSize=64m, -XX:MaxDirectMemorySize=536870912, -Des.path.home=/usr/elastic/elasticsearch, -Des.path.conf=/usr/elastic/elasticsearch/config, -Des.distribution.flavor=default, -Des.distribution.type=tar, -Des.bundled_jdk=true]</span><br><span class=\"line\">[2020-03-01T12:03:34,656][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [aggs-matrix-stats]</span><br><span class=\"line\">[2020-03-01T12:03:34,656][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [analysis-common]</span><br><span class=\"line\">[2020-03-01T12:03:34,656][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [flattened]</span><br><span class=\"line\">[2020-03-01T12:03:34,657][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [frozen-indices]</span><br><span class=\"line\">[2020-03-01T12:03:34,657][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [ingest-common]</span><br><span class=\"line\">[2020-03-01T12:03:34,657][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [ingest-geoip]</span><br><span class=\"line\">[2020-03-01T12:03:34,657][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [ingest-user-agent]</span><br><span class=\"line\">[2020-03-01T12:03:34,657][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [lang-expression]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [lang-mustache]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [lang-painless]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [mapper-extras]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [parent-join]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [percolator]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [rank-eval]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [reindex]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [repository-url]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [search-business-rules]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [spatial]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [transform]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [transport-netty4]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [vectors]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-analytics]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-ccr]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-core]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-deprecation]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-enrich]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-graph]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-ilm]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-logstash]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-ml]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-monitoring]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-rollup]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-security]</span><br><span class=\"line\">[2020-03-01T12:03:34,662][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-sql]</span><br><span class=\"line\">[2020-03-01T12:03:34,662][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-voting-only-node]</span><br><span class=\"line\">[2020-03-01T12:03:34,662][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-watcher]</span><br><span class=\"line\">[2020-03-01T12:03:34,662][INFO ][o.e.p.PluginsService     ] [node-1] no plugins loaded</span><br><span class=\"line\">[2020-03-01T12:03:37,968][INFO ][o.e.x.s.a.s.FileRolesStore] [node-1] parsed [0] roles from file [/usr/elastic/elasticsearch/config/roles.yml]</span><br><span class=\"line\">[2020-03-01T12:03:38,382][INFO ][o.e.x.m.p.l.CppLogMessageHandler] [node-1] [controller/2044] [Main.cc@110] controller (64 bit): Version 7.6.0 (Build 1c8cca13fa9631) Copyright (c) 2020 Elasticsearch BV</span><br><span class=\"line\">[2020-03-01T12:03:38,870][DEBUG][o.e.a.ActionModule       ] [node-1] Using REST wrapper from plugin org.elasticsearch.xpack.security.Security</span><br><span class=\"line\">[2020-03-01T12:03:38,999][INFO ][o.e.d.DiscoveryModule    ] [node-1] using discovery type [zen] and seed hosts providers [settings]</span><br><span class=\"line\">[2020-03-01T12:03:39,805][INFO ][o.e.n.Node               ] [node-1] initialized</span><br><span class=\"line\">[2020-03-01T12:03:39,805][INFO ][o.e.n.Node               ] [node-1] starting ...</span><br><span class=\"line\">[2020-03-01T12:03:39,954][INFO ][o.e.t.TransportService   ] [node-1] publish_address &#123;192.168.237.11:9300&#125;, bound_addresses &#123;[::]:9300&#125;</span><br><span class=\"line\">[2020-03-01T12:03:40,352][INFO ][o.e.b.BootstrapChecks    ] [node-1] bound or publishing to a non-loopback address, enforcing bootstrap checks</span><br><span class=\"line\">[2020-03-01T12:03:40,380][INFO ][o.e.c.c.Coordinator      ] [node-1] cluster UUID [PKv57dWOS5OAazrBgqoLcQ]</span><br><span class=\"line\">[2020-03-01T12:03:40,565][INFO ][o.e.c.s.MasterService    ] [node-1] elected-as-master ([1] nodes joined)[&#123;node-1&#125;&#123;2IBvVjP0QbeA-FDLFoLFFg&#125;&#123;kGzTwK3ZRLGujF_9zhpR9A&#125;&#123;192.168.237.11&#125;&#123;192.168.237.11:9300&#125;&#123;dilm&#125;&#123;ml.machine_memory=3954036736, xpack.installed=true, ml.max_open_jobs=20&#125; elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 9, version: 279, delta: master node changed &#123;previous [], current [&#123;node-1&#125;&#123;2IBvVjP0QbeA-FDLFoLFFg&#125;&#123;kGzTwK3ZRLGujF_9zhpR9A&#125;&#123;192.168.237.11&#125;&#123;192.168.237.11:9300&#125;&#123;dilm&#125;&#123;ml.machine_memory=3954036736, xpack.installed=true, ml.max_open_jobs=20&#125;]&#125;</span><br><span class=\"line\">[2020-03-01T12:03:40,674][INFO ][o.e.c.s.ClusterApplierService] [node-1] master node changed &#123;previous [], current [&#123;node-1&#125;&#123;2IBvVjP0QbeA-FDLFoLFFg&#125;&#123;kGzTwK3ZRLGujF_9zhpR9A&#125;&#123;192.168.237.11&#125;&#123;192.168.237.11:9300&#125;&#123;dilm&#125;&#123;ml.machine_memory=3954036736, xpack.installed=true, ml.max_open_jobs=20&#125;]&#125;, term: 9, version: 279, reason: Publication&#123;term=9, version=279&#125;</span><br><span class=\"line\">[2020-03-01T12:03:40,741][INFO ][o.e.h.AbstractHttpServerTransport] [node-1] publish_address &#123;192.168.237.11:9200&#125;, bound_addresses &#123;[::]:9200&#125;</span><br><span class=\"line\">[2020-03-01T12:03:40,741][INFO ][o.e.n.Node               ] [node-1] started</span><br><span class=\"line\">[2020-03-01T12:03:41,213][INFO ][o.e.l.LicenseService     ] [node-1] license [b7ab8f1c-3e13-45f0-a4d2-6f5f31a554a1] mode [basic] - valid</span><br><span class=\"line\">[2020-03-01T12:03:41,214][INFO ][o.e.x.s.s.SecurityStatusChangeListener] [node-1] Active license is now [BASIC]; Security is disabled</span><br><span class=\"line\">[2020-03-01T12:03:41,220][INFO ][o.e.g.GatewayService     ] [node-1] recovered [9] indices into cluster_state</span><br><span class=\"line\">[2020-03-01T12:03:42,116][INFO ][o.e.c.r.a.AllocationService] [node-1] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[metricbeat-7.6.0][0]]]).</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>这里说明一下，有可能会碰到内存不足，因为elasticsearch的<strong>jvm.options</strong>中配置的内存参数为1g，如果你的虚拟机给的内存不够就会出问题<br>修改<strong>jvm.options</strong>中的虚拟机参数为合适的参数，然后就可以启动成功了</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">-Xms1g</span></span><br><span class=\"line\"><span class=\"string\">-Xmx1g</span></span><br></pre></td></tr></table></figure>\n<p>这里还需要修改liunx的环境配置参数，避免重新启动的时候报错：<br>vi 编辑 /etc/security/limits.conf，在末尾加上：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">soft</span> <span class=\"string\">nofile</span> <span class=\"number\">65536</span></span><br><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">hard</span> <span class=\"string\">nofile</span> <span class=\"number\">65536</span></span><br><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">soft</span> <span class=\"string\">nproc</span> <span class=\"number\">32000</span></span><br><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">hard</span> <span class=\"string\">nproc</span> <span class=\"number\">32000</span></span><br><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">hard</span> <span class=\"string\">memlock</span> <span class=\"string\">unlimited</span></span><br><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">soft</span> <span class=\"string\">memlock</span> <span class=\"string\">unlimited</span></span><br></pre></td></tr></table></figure>\n<p>vi 编辑 /etc/sysctl.conf，在末尾加上：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">vm.max_map_count=655360</span></span><br></pre></td></tr></table></figure>\n<p>然后刷新配置</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"string\">root@192</span> <span class=\"string\">bin</span>]<span class=\"comment\"># sysctl -p</span></span><br><span class=\"line\"><span class=\"string\">kernel.printk</span> <span class=\"string\">=</span> <span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"string\">vm.max_map_count</span> <span class=\"string\">=</span> <span class=\"number\">655360</span></span><br><span class=\"line\">[<span class=\"string\">root@192</span> <span class=\"string\">bin</span>]<span class=\"comment\">#</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>再次启动，然后检查</p>\n<p><img src=\"https://image.eelve.com/eblog/2020010301-5b565f99650d4acbb3ba464408dca641.png\" alt=\"2020010301\"><br><img src=\"https://image.eelve.com/eblog/2020030102-ff4ef388edeb4bb1b88ddf45df96543f.png\" alt=\"2020030102\"></p>\n<hr>\n<p>【<strong>后面的话</strong>】<br>后台启动</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[iio@192 bin]$ ./elasticsearch -d</span><br></pre></td></tr></table></figure>\n<p>查看进程,这里的常用的命令可能不好使，我们可以使用下面的命令查找进程</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[iio@192 bin]$ jps</span><br><span class=\"line\">2294 Jps</span><br><span class=\"line\">2135 Elasticsearch</span><br><span class=\"line\">[iio@192 bin]$ kill -9 2135</span><br></pre></td></tr></table></figure>\n\n<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","raw":null,"categories":[{"name":"Elastic-Stack","path":"api/categories/Elastic-Stack.json"}],"tags":[{"name":"ELK","path":"api/tags/ELK.json"},{"name":"Elasticsearch","path":"api/tags/Elasticsearch.json"}]},{"title":"Elastic Stack实战之Elasticsearch初体验(一)本地版","slug":"Elastic-Stack实战之Elasticsearch初体验(一)本地版","date":"2020-03-01T04:34:22.000Z","updated":"2021-04-19T07:47:19.511Z","comments":true,"path":"api/articles/Elastic-Stack实战之Elasticsearch初体验(一)本地版.json","excerpt":null,"keywords":"南国薏米","cover":"https://eelve.com/upload/2020/3/2020010301-5b565f99650d4acbb3ba464408dca641.png","content":"<p>【<strong>前面的话</strong>】前面已经准备好了服务器环境，今天就来开始安装<a href=\"https://www.elastic.co/cn/elasticsearch\">Elasticsearch</a>然后体验。</p>\n<hr>\n<h1 id=\"壹、软件版本\"><a href=\"#壹、软件版本\" class=\"headerlink\" title=\"壹、软件版本\"></a>壹、软件版本</h1><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">Centos：CentOS-7-x86_64-Minimal-1908</span></span><br><span class=\"line\"><span class=\"attr\">VM:</span> <span class=\"number\">15.5</span><span class=\"number\">.0</span> <span class=\"string\">build-14665864</span></span><br><span class=\"line\"><span class=\"attr\">Java:</span> <span class=\"number\">1.8</span><span class=\"string\">.0_211</span></span><br><span class=\"line\"><span class=\"attr\">Elasticsearch:</span> <span class=\"string\">elasticsearch-7.6.0</span></span><br></pre></td></tr></table></figure>\n<p>这里说一下，Elasticsearch是依赖Java环境的，elasticsearch-7.6.0要求至少为1.8，官方建议为11.如果你的机器上还没有Java环境的话，记得要先准备环境。当然安装也是非常简单：</p>\n<p>1.下载linux版本的jdk</p>\n<p>2.解压然后配置环境变量</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">java environment</span></span><br><span class=\"line\">export JAVA_HOME=/usr/jdk</span><br><span class=\"line\">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/jre/lib/rt.jar:$&#123;JAVA_HOME&#125;/lib/dt.jar:$&#123;JAVA_HOME&#125;/lib/tools.jar</span><br><span class=\"line\">export PATH=$PATH:$&#123;JAVA_HOME&#125;/bin</span><br></pre></td></tr></table></figure>\n<p>3.刷新环境变量，检查结果</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 ~]# source /etc/profile</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 ~]# java -version</span><br><span class=\"line\">java version &quot;1.8.0_211&quot;</span><br><span class=\"line\">Java(TM) SE Runtime Environment (build 1.8.0_211-b12)</span><br><span class=\"line\">Java HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"贰、Elasticsearch安装\"><a href=\"#贰、Elasticsearch安装\" class=\"headerlink\" title=\"贰、Elasticsearch安装\"></a>贰、Elasticsearch安装</h1><h2 id=\"2-1-下载地址\"><a href=\"#2-1-下载地址\" class=\"headerlink\" title=\"2.1 下载地址\"></a>2.1 下载地址</h2><h2 id=\"elasticsearch-7-6-0-linux-x86-64-tar-gz\"><a href=\"#elasticsearch-7-6-0-linux-x86-64-tar-gz\" class=\"headerlink\" title=\"elasticsearch-7.6.0-linux-x86_64.tar.gz\"></a><a href=\"https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.6.0-linux-x86_64.tar.gz\">elasticsearch-7.6.0-linux-x86_64.tar.gz</a></h2><h2 id=\"2-2-解压elasticsearch-7-6-0-linux-x86-64-tar-gz\"><a href=\"#2-2-解压elasticsearch-7-6-0-linux-x86-64-tar-gz\" class=\"headerlink\" title=\"2.2 解压elasticsearch-7.6.0-linux-x86_64.tar.gz\"></a>2.2 解压elasticsearch-7.6.0-linux-x86_64.tar.gz</h2><figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zvxf elasticsearch-7.6.0-linux-x86_64.tar.gz -C /usr/elastic</span><br></pre></td></tr></table></figure>\n<h2 id=\"2-3-修改elasticsearch配置\"><a href=\"#2-3-修改elasticsearch配置\" class=\"headerlink\" title=\"2.3 修改elasticsearch配置\"></a>2.3 修改elasticsearch配置</h2><figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 elastic]# cd /usr/elastic/elasticsearch/config/</span><br><span class=\"line\">[root@192 config]# vi elasticsearch.yml</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>下面给出单机版安装最小配置</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">node.name:</span> <span class=\"string\">node-1</span> <span class=\"comment\">#节点名字</span></span><br><span class=\"line\"><span class=\"attr\">network.host:</span> <span class=\"number\">0.0</span><span class=\"number\">.0</span><span class=\"number\">.0</span> <span class=\"comment\">#生产配置为127.0.0.1，测试可以为其他地址</span></span><br><span class=\"line\"><span class=\"attr\">http.port:</span> <span class=\"number\">9200</span> <span class=\"comment\">#端口</span></span><br><span class=\"line\"><span class=\"attr\">cluster.initial_master_nodes:</span> [<span class=\"string\">&quot;node-1&quot;</span>] <span class=\"comment\">#初始化master节点</span></span><br><span class=\"line\"><span class=\"attr\">http.cors.enabled:</span> <span class=\"literal\">true</span>  <span class=\"comment\">#开启跨域</span></span><br><span class=\"line\"><span class=\"attr\">http.cors.allow-origin:</span> <span class=\"string\">&quot;*&quot;</span> <span class=\"comment\">#开启跨域</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"2-4-后台启动\"><a href=\"#2-4-后台启动\" class=\"headerlink\" title=\"2.4 后台启动\"></a>2.4 后台启动</h2><figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 bin]# ./elasticsearch</span><br><span class=\"line\">[1] 1620</span><br><span class=\"line\">[root@192 bin]# future versions of Elasticsearch will require Java 11; your Java version from [/usr/jdk/jre] does not meet this requirement</span><br><span class=\"line\">[2020-03-01T11:55:38,871][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [node-1] uncaught exception in thread [main]</span><br><span class=\"line\">org.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:174) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:161) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:125) ~[elasticsearch-cli-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:126) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">Caused by: java.lang.RuntimeException: can not run elasticsearch as root</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:105) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:172) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170) ~[elasticsearch-7.6.0.jar:7.6.0]</span><br><span class=\"line\">\t... 6 more</span><br><span class=\"line\">uncaught exception in thread [main]</span><br><span class=\"line\">java.lang.RuntimeException: can not run elasticsearch as root</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:105)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:172)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:161)</span><br><span class=\"line\">\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)</span><br><span class=\"line\">\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:125)</span><br><span class=\"line\">\tat org.elasticsearch.cli.Command.main(Command.java:90)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:126)</span><br><span class=\"line\">\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92)</span><br><span class=\"line\">For complete error details, refer to the log at /usr/elastic/elasticsearch/logs/eelve.log</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>这里说的是elasticsearch不能用root用户启动，这里就需要添加一个用户，然后重新启动</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 bin]# adduser iio</span><br><span class=\"line\">[root@192 bin]# passwd iio</span><br><span class=\"line\">Changing password for user iio.</span><br><span class=\"line\">New password: </span><br><span class=\"line\">Retype new password: </span><br><span class=\"line\">passwd: all authentication tokens updated successfully.</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>然后更改elasticsearch用户组</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 bin]# chown -R iio:iio /usr/elastic/elasticsearch/</span><br></pre></td></tr></table></figure>\n<p>然后就可以启动成功了</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 bin]# su iio</span><br><span class=\"line\">[iio@192 bin]$ ./elasticsearch</span><br><span class=\"line\">future versions of Elasticsearch will require Java 11; your Java version from [/usr/jdk/jre] does not meet this requirement</span><br><span class=\"line\">[2020-03-01T12:03:32,970][INFO ][o.e.e.NodeEnvironment    ] [node-1] using [1] data paths, mounts [[/ (rootfs)]], net usable_space [20.9gb], net total_space [25.9gb], types [rootfs]</span><br><span class=\"line\">[2020-03-01T12:03:32,972][INFO ][o.e.e.NodeEnvironment    ] [node-1] heap size [990.7mb], compressed ordinary object pointers [true]</span><br><span class=\"line\">[2020-03-01T12:03:33,103][INFO ][o.e.n.Node               ] [node-1] node name [node-1], node ID [2IBvVjP0QbeA-FDLFoLFFg], cluster name [eelve]</span><br><span class=\"line\">[2020-03-01T12:03:33,103][INFO ][o.e.n.Node               ] [node-1] version[7.6.0], pid[1952], build[default/tar/7f634e9f44834fbc12724506cc1da681b0c3b1e3/2020-02-06T00:09:00.449973Z], OS[Linux/3.10.0-1062.el7.x86_64/amd64], JVM[Oracle Corporation/Java HotSpot(TM) 64-Bit Server VM/1.8.0_211/25.211-b12]</span><br><span class=\"line\">[2020-03-01T12:03:33,103][INFO ][o.e.n.Node               ] [node-1] JVM home [/usr/jdk/jre]</span><br><span class=\"line\">[2020-03-01T12:03:33,104][INFO ][o.e.n.Node               ] [node-1] JVM arguments [-Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dio.netty.allocator.numDirectArenas=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.locale.providers=COMPAT, -Xms1g, -Xmx1g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -Djava.io.tmpdir=/tmp/elasticsearch-5828849950285366888, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -XX:+PrintGCDetails, -XX:+PrintGCDateStamps, -XX:+PrintTenuringDistribution, -XX:+PrintGCApplicationStoppedTime, -Xloggc:logs/gc.log, -XX:+UseGCLogFileRotation, -XX:NumberOfGCLogFiles=32, -XX:GCLogFileSize=64m, -XX:MaxDirectMemorySize=536870912, -Des.path.home=/usr/elastic/elasticsearch, -Des.path.conf=/usr/elastic/elasticsearch/config, -Des.distribution.flavor=default, -Des.distribution.type=tar, -Des.bundled_jdk=true]</span><br><span class=\"line\">[2020-03-01T12:03:34,656][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [aggs-matrix-stats]</span><br><span class=\"line\">[2020-03-01T12:03:34,656][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [analysis-common]</span><br><span class=\"line\">[2020-03-01T12:03:34,656][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [flattened]</span><br><span class=\"line\">[2020-03-01T12:03:34,657][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [frozen-indices]</span><br><span class=\"line\">[2020-03-01T12:03:34,657][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [ingest-common]</span><br><span class=\"line\">[2020-03-01T12:03:34,657][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [ingest-geoip]</span><br><span class=\"line\">[2020-03-01T12:03:34,657][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [ingest-user-agent]</span><br><span class=\"line\">[2020-03-01T12:03:34,657][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [lang-expression]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [lang-mustache]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [lang-painless]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [mapper-extras]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [parent-join]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [percolator]</span><br><span class=\"line\">[2020-03-01T12:03:34,658][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [rank-eval]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [reindex]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [repository-url]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [search-business-rules]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [spatial]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [transform]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [transport-netty4]</span><br><span class=\"line\">[2020-03-01T12:03:34,659][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [vectors]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-analytics]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-ccr]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-core]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-deprecation]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-enrich]</span><br><span class=\"line\">[2020-03-01T12:03:34,660][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-graph]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-ilm]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-logstash]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-ml]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-monitoring]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-rollup]</span><br><span class=\"line\">[2020-03-01T12:03:34,661][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-security]</span><br><span class=\"line\">[2020-03-01T12:03:34,662][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-sql]</span><br><span class=\"line\">[2020-03-01T12:03:34,662][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-voting-only-node]</span><br><span class=\"line\">[2020-03-01T12:03:34,662][INFO ][o.e.p.PluginsService     ] [node-1] loaded module [x-pack-watcher]</span><br><span class=\"line\">[2020-03-01T12:03:34,662][INFO ][o.e.p.PluginsService     ] [node-1] no plugins loaded</span><br><span class=\"line\">[2020-03-01T12:03:37,968][INFO ][o.e.x.s.a.s.FileRolesStore] [node-1] parsed [0] roles from file [/usr/elastic/elasticsearch/config/roles.yml]</span><br><span class=\"line\">[2020-03-01T12:03:38,382][INFO ][o.e.x.m.p.l.CppLogMessageHandler] [node-1] [controller/2044] [Main.cc@110] controller (64 bit): Version 7.6.0 (Build 1c8cca13fa9631) Copyright (c) 2020 Elasticsearch BV</span><br><span class=\"line\">[2020-03-01T12:03:38,870][DEBUG][o.e.a.ActionModule       ] [node-1] Using REST wrapper from plugin org.elasticsearch.xpack.security.Security</span><br><span class=\"line\">[2020-03-01T12:03:38,999][INFO ][o.e.d.DiscoveryModule    ] [node-1] using discovery type [zen] and seed hosts providers [settings]</span><br><span class=\"line\">[2020-03-01T12:03:39,805][INFO ][o.e.n.Node               ] [node-1] initialized</span><br><span class=\"line\">[2020-03-01T12:03:39,805][INFO ][o.e.n.Node               ] [node-1] starting ...</span><br><span class=\"line\">[2020-03-01T12:03:39,954][INFO ][o.e.t.TransportService   ] [node-1] publish_address &#123;192.168.237.11:9300&#125;, bound_addresses &#123;[::]:9300&#125;</span><br><span class=\"line\">[2020-03-01T12:03:40,352][INFO ][o.e.b.BootstrapChecks    ] [node-1] bound or publishing to a non-loopback address, enforcing bootstrap checks</span><br><span class=\"line\">[2020-03-01T12:03:40,380][INFO ][o.e.c.c.Coordinator      ] [node-1] cluster UUID [PKv57dWOS5OAazrBgqoLcQ]</span><br><span class=\"line\">[2020-03-01T12:03:40,565][INFO ][o.e.c.s.MasterService    ] [node-1] elected-as-master ([1] nodes joined)[&#123;node-1&#125;&#123;2IBvVjP0QbeA-FDLFoLFFg&#125;&#123;kGzTwK3ZRLGujF_9zhpR9A&#125;&#123;192.168.237.11&#125;&#123;192.168.237.11:9300&#125;&#123;dilm&#125;&#123;ml.machine_memory=3954036736, xpack.installed=true, ml.max_open_jobs=20&#125; elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 9, version: 279, delta: master node changed &#123;previous [], current [&#123;node-1&#125;&#123;2IBvVjP0QbeA-FDLFoLFFg&#125;&#123;kGzTwK3ZRLGujF_9zhpR9A&#125;&#123;192.168.237.11&#125;&#123;192.168.237.11:9300&#125;&#123;dilm&#125;&#123;ml.machine_memory=3954036736, xpack.installed=true, ml.max_open_jobs=20&#125;]&#125;</span><br><span class=\"line\">[2020-03-01T12:03:40,674][INFO ][o.e.c.s.ClusterApplierService] [node-1] master node changed &#123;previous [], current [&#123;node-1&#125;&#123;2IBvVjP0QbeA-FDLFoLFFg&#125;&#123;kGzTwK3ZRLGujF_9zhpR9A&#125;&#123;192.168.237.11&#125;&#123;192.168.237.11:9300&#125;&#123;dilm&#125;&#123;ml.machine_memory=3954036736, xpack.installed=true, ml.max_open_jobs=20&#125;]&#125;, term: 9, version: 279, reason: Publication&#123;term=9, version=279&#125;</span><br><span class=\"line\">[2020-03-01T12:03:40,741][INFO ][o.e.h.AbstractHttpServerTransport] [node-1] publish_address &#123;192.168.237.11:9200&#125;, bound_addresses &#123;[::]:9200&#125;</span><br><span class=\"line\">[2020-03-01T12:03:40,741][INFO ][o.e.n.Node               ] [node-1] started</span><br><span class=\"line\">[2020-03-01T12:03:41,213][INFO ][o.e.l.LicenseService     ] [node-1] license [b7ab8f1c-3e13-45f0-a4d2-6f5f31a554a1] mode [basic] - valid</span><br><span class=\"line\">[2020-03-01T12:03:41,214][INFO ][o.e.x.s.s.SecurityStatusChangeListener] [node-1] Active license is now [BASIC]; Security is disabled</span><br><span class=\"line\">[2020-03-01T12:03:41,220][INFO ][o.e.g.GatewayService     ] [node-1] recovered [9] indices into cluster_state</span><br><span class=\"line\">[2020-03-01T12:03:42,116][INFO ][o.e.c.r.a.AllocationService] [node-1] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[metricbeat-7.6.0][0]]]).</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>这里说明一下，有可能会碰到内存不足，因为elasticsearch的<strong>jvm.options</strong>中配置的内存参数为1g，如果你的虚拟机给的内存不够就会出问题<br>修改<strong>jvm.options</strong>中的虚拟机参数为合适的参数，然后就可以启动成功了</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">-Xms1g</span></span><br><span class=\"line\"><span class=\"string\">-Xmx1g</span></span><br></pre></td></tr></table></figure>\n<p>这里还需要修改liunx的环境配置参数，避免重新启动的时候报错：<br>vi 编辑 /etc/security/limits.conf，在末尾加上：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">soft</span> <span class=\"string\">nofile</span> <span class=\"number\">65536</span></span><br><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">hard</span> <span class=\"string\">nofile</span> <span class=\"number\">65536</span></span><br><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">soft</span> <span class=\"string\">nproc</span> <span class=\"number\">32000</span></span><br><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">hard</span> <span class=\"string\">nproc</span> <span class=\"number\">32000</span></span><br><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">hard</span> <span class=\"string\">memlock</span> <span class=\"string\">unlimited</span></span><br><span class=\"line\"><span class=\"string\">*</span> <span class=\"string\">soft</span> <span class=\"string\">memlock</span> <span class=\"string\">unlimited</span></span><br></pre></td></tr></table></figure>\n<p>vi 编辑 /etc/sysctl.conf，在末尾加上：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">vm.max_map_count=655360</span></span><br></pre></td></tr></table></figure>\n<p>然后刷新配置</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"string\">root@192</span> <span class=\"string\">bin</span>]<span class=\"comment\"># sysctl -p</span></span><br><span class=\"line\"><span class=\"string\">kernel.printk</span> <span class=\"string\">=</span> <span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"string\">vm.max_map_count</span> <span class=\"string\">=</span> <span class=\"number\">655360</span></span><br><span class=\"line\">[<span class=\"string\">root@192</span> <span class=\"string\">bin</span>]<span class=\"comment\">#</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>再次启动，然后检查</p>\n<p><img src=\"https://eelve.com/upload/2020/3/2020010301-5b565f99650d4acbb3ba464408dca641.png\" alt=\"2020010301\"><br><img src=\"https://eelve.com/upload/2020/3/2020030102-ff4ef388edeb4bb1b88ddf45df96543f.png\" alt=\"2020030102\"></p>\n<hr>\n<p>【<strong>后面的话</strong>】<br>后台启动</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[iio@192 bin]$ ./elasticsearch -d</span><br></pre></td></tr></table></figure>\n<p>查看进程,这里的常用的命令可能不好使，我们可以使用下面的命令查找进程</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[iio@192 bin]$ jps</span><br><span class=\"line\">2294 Jps</span><br><span class=\"line\">2135 Elasticsearch</span><br><span class=\"line\">[iio@192 bin]$ kill -9 2135</span><br></pre></td></tr></table></figure>\n\n<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","raw":null,"categories":[{"name":"hide","path":"api/categories/hide.json"}],"tags":[{"name":"hide","path":"api/tags/hide.json"}]},{"title":"怎么找回遗失的Github的Contribution","slug":"怎么找回遗失的Github的Contribution","date":"2020-02-29T16:18:06.000Z","updated":"2021-04-19T06:44:39.249Z","comments":true,"path":"api/articles/怎么找回遗失的Github的Contribution.json","excerpt":null,"keywords":"南国薏米","cover":"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png","content":"<p>【<strong>前面的话</strong>】在日常工作中，一般都会用到版本管理工具git，往往项目组要求的提交信息和Github的提交信息是不一致的，有的时候就可能会出现不可避免的犯错，导致Github的Contribution丢失，进而就在Github中丢失了打卡记录。好在Github提供了解决方法，下面就把官网的方案搬过来。</p>\n<hr>\n<p>首先是官网的原网站：<br><a href=\"https://help.github.com/en/github/using-git/changing-author-info\">Changing author info</a> </p>\n<p>To change the name and/or email address recorded in existing commits, you must rewrite the entire history of your Git repository.</p>\n<hr>\n<p>下面是中文翻译</p>\n<p>1.打开终端（Mac 或 Linux 用户）或命令行（Windows 用户）。</p>\n<p>2.创建一个你的 repo 的全新裸 clone （repo.git 替换为你的项目，下同） </p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone --bare &lt;https://github.com/user/repo.git&gt; cd repo.git</span><br></pre></td></tr></table></figure>\n<p>3.复制粘贴脚本，并根据你的信息修改以下变量：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">OLD_EMAIL</span></span><br><span class=\"line\"><span class=\"string\">CORRECT_NAME</span></span><br><span class=\"line\"><span class=\"string\">CORRECT_EMAIL</span></span><br></pre></td></tr></table></figure>\n<p>脚本：</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">!/bin/sh</span></span><br><span class=\"line\"></span><br><span class=\"line\">git filter-branch --env-filter &#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">OLD_EMAIL=&quot;your-old-email@example.com&quot;</span><br><span class=\"line\">CORRECT_NAME=&quot;Your Correct Name&quot;</span><br><span class=\"line\">CORRECT_EMAIL=&quot;your-correct-email@example.com&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span><br><span class=\"line\">then</span><br><span class=\"line\">    export GIT_COMMITTER_NAME=&quot;$CORRECT_NAME&quot;</span><br><span class=\"line\">    export GIT_COMMITTER_EMAIL=&quot;$CORRECT_EMAIL&quot;</span><br><span class=\"line\">fi</span><br><span class=\"line\">if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span><br><span class=\"line\">then</span><br><span class=\"line\">    export GIT_AUTHOR_NAME=&quot;$CORRECT_NAME&quot;</span><br><span class=\"line\">    export GIT_AUTHOR_EMAIL=&quot;$CORRECT_EMAIL&quot;</span><br><span class=\"line\">fi</span><br><span class=\"line\">&#x27; --tag-name-filter cat -- --branches --tags</span><br></pre></td></tr></table></figure>\n<p>4.按 Enter 执行脚本。</p>\n<p>5.查看新 Git 历史有没有错误。</p>\n<p>6.把正确历史 push 到 Github：（push 有困难时记得修改 DNS 或者搭梯子） </p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push --force --tags origin &#x27;refs/heads/*&#x27;</span><br></pre></td></tr></table></figure>\n<p>7.清除临时 clone。<br> <figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ..</span><br><span class=\"line\">rm -rf repo.git</span><br></pre></td></tr></table></figure></p>\n<hr>\n<p>【<strong>后面的话</strong>】正确合理的设置全局用户名和邮箱，同时针对有特殊要求的项目就可以单独设置。</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config user.name  &quot;name&quot;</span><br><span class=\"line\">git config --global user.name &quot;globalname&quot;</span><br><span class=\"line\">git config user.email  &quot;email&quot;</span><br><span class=\"line\">git config --global user.email  &quot;globalemail&quot;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>同时该操作谨慎在与他人的合作项目中使用，改变作者信息 为改变已经存在的 commit 的用户名和/或邮箱地址，你必须重写你 Git repo 的整个历史。</p>\n<pre><code>警告：这种行为对你的 repo 的历史具有破坏性。如果你的 repo 是与他人协同工作的，重写已发布的历史是一种不好的习惯。仅限紧急情况执行该操作。 使用脚本改变你 repo 的 Git 历史 我们写了一段能把 commit 作者旧的邮箱地址修改为正确用户名和邮箱的脚本。\n\n注意：执行这段脚本会重写 repo 所有协作者的历史。完成以下操作后，任何 fork 或 clone 的人必须获取重写后的历史并把所有本地修改 rebase 入重写后的历史中。\n</code></pre>\n<p>意思就是需要重新拉去代码才能继续进行开发了</p>\n<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","raw":null,"categories":[{"name":"github","path":"api/categories/github.json"}],"tags":[{"name":"github","path":"api/tags/github.json"}]},{"title":"Elastic Stack实战之环境准备","slug":"Elastic-Stack实战之环境准备","date":"2020-02-29T08:29:26.000Z","updated":"2021-04-19T06:44:39.012Z","comments":true,"path":"api/articles/Elastic-Stack实战之环境准备.json","excerpt":null,"keywords":"南国薏米","cover":"https://eelve.com/upload/2020/3/2020030104-b3bb574e37fd4c9a959c5b8ba383033c.png","content":"<p>【<strong>前面的话</strong>】首先还是是简单说一下<a href=\"https://www.elastic.co/\">Elastic Stack</a>技术栈吧。ELK = Elasticsearch, Logstash, Kibana 是一套实时数据收集，存储，索引，检索，统计分析及可视化的解决方案。最新版本已经改名为Elastic Stack，并新增了Beats项目。</p>\n<p><img src=\"https://eelve.com/upload/2020/3/2020030104-b3bb574e37fd4c9a959c5b8ba383033c.png\" alt=\"2020030104\"><br><img src=\"https://eelve.com/upload/2020/3/2020030105-8644c0540b6041d9a726b0fdf31845a0.png\" alt=\"2020030105\"></p>\n<p><strong>Elasticsearch</strong></p>\n<pre><code>Elasticsearch 基于java，是个开源分布式搜索引擎，它的特点有：分布式，零配置，自动发现，索引自动分片，索引\n副本机制，restful风格接口，多数据源，自动搜索负载等。\n</code></pre>\n<p><strong>Logstash</strong></p>\n<pre><code>Logstash 基于java，是一个开源的用于收集,分析和存储日志的工具。\n</code></pre>\n<p><strong>Kibana</strong></p>\n<pre><code>Kibana 基于nodejs，也是一个开源和免费的工具，Kibana可以为 Logstash 和 ElasticSearch 提供的日志分析友好的\nWeb 界面，可以汇总、分析和搜索重要数据日志。\n</code></pre>\n<p><strong>Beats</strong></p>\n<pre><code>Beats是elastic公司开源的一款采集系统监控数据的代理agent，是在被监控服务器上以客户端形式运行的数据收集\n器的统称，可以直接把数据发送给Elasticsearch或者通过Logstash发送给Elasticsearch，然后进行后续的数据分析活\n动。\nBeats由如下组成:\nPacketbeat：是一个网络数据包分析器，用于监控、收集网络流量信息，Packetbeat嗅探服务器之间的流量，\n解析应用层协议，并关联到消息的处理，其支 持ICMP (v4 and v6)、DNS、HTTP、Mysql、PostgreSQL、\nRedis、MongoDB、Memcache等协议；\nFilebeat：用于监控、收集服务器日志文件，其已取代 logstash forwarder；\nMetricbeat：可定期获取外部系统的监控指标信息，其可以监控、收集 Apache、HAProxy、MongoDB\nMySQL、Nginx、PostgreSQL、Redis、System、Zookeeper等服务；\nWinlogbeat：用于监控、收集Windows系统的日志信息；\n</code></pre>\n<p>但是很多用户还是用ELK来代替Elastic Stack，并且目前的最新版本已经来到了7.6.0，在后面的实践过程中如果没有特指的话，都会是基于最新版本的实践。下面来说一下我的环境，我本人的云服务器，性能不是很够，这边我的解决方案是用虚拟机来解决。所以在这篇文章中是主要介绍在VM中搭建linux服务器的，并且为了资源不浪费，我这边会做最小化安装。</p>\n<hr>\n<h1 id=\"壹、软件版本\"><a href=\"#壹、软件版本\" class=\"headerlink\" title=\"壹、软件版本\"></a>壹、软件版本</h1><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">Centos：CentOS-7-x86_64-Minimal-1908</span></span><br><span class=\"line\"><span class=\"attr\">VM:</span> <span class=\"number\">15.5</span><span class=\"number\">.0</span> <span class=\"string\">build-14665864</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"贰、主要步骤\"><a href=\"#贰、主要步骤\" class=\"headerlink\" title=\"贰、主要步骤\"></a>贰、主要步骤</h1><pre><code>在网络中有很多安装的具体步骤，我子啊这里只是说一下容易出错的点。\n</code></pre>\n<h2 id=\"2-1-VM创建虚拟机\"><a href=\"#2-1-VM创建虚拟机\" class=\"headerlink\" title=\"2.1 VM创建虚拟机\"></a>2.1 VM创建虚拟机</h2><p><img src=\"https://eelve.com/upload/2020/2/2020022903-e627be2203d040a8aae53c43c767e582.png\" alt=\"2020022903\"><br><img src=\"https://eelve.com/upload/2020/2/2020022903-e627be2203d040a8aae53c43c767e582.png\" alt=\"2020022903\"><br><img src=\"https://eelve.com/upload/2020/2/2020022905-baf50368479142869e6d506e899f6623.png\" alt=\"2020022905\"><br><img src=\"https://eelve.com/upload/2020/2/2020022906-79511d7494064df9a76dbbb00a529757.png\" alt=\"2020022906\"><br><img src=\"https://eelve.com/upload/2020/2/2020022907-d16b584e859c43c794badd92ed116ccc.png\" alt=\"2020022907\"><br><img src=\"https://eelve.com/upload/2020/2/2020022911-e111cb9fe7d94935b0cd7b8613d6e278.png\" alt=\"2020022911\"></p>\n<h2 id=\"2-2-安装Centos7\"><a href=\"#2-2-安装Centos7\" class=\"headerlink\" title=\"2.2 安装Centos7\"></a>2.2 安装Centos7</h2><p><img src=\"https://eelve.com/upload/2020/2/2020022913-34b2a693fd0e4cfa9c6484063bc3a00c.png\" alt=\"2020022913\"><br><img src=\"https://eelve.com/upload/2020/2/2020022914-8fb414bf521544518671a2da4fb142f1.png\" alt=\"2020022914\"><br><img src=\"https://eelve.com/upload/2020/2/2020022915-d2e5d18a228448709a81391ce595bcff.png\" alt=\"2020022915\"><br><img src=\"https://eelve.com/upload/2020/2/2020022916-1ca2096fd9c945a4bdc1da5ea0c6c898.png\" alt=\"2020022916\"><br><img src=\"https://eelve.com/upload/2020/2/2020022917-10884dc7ec5348eebb35f8682e627281.png\" alt=\"2020022917\"></p>\n<h1 id=\"叁、注意事项\"><a href=\"#叁、注意事项\" class=\"headerlink\" title=\"叁、注意事项\"></a>叁、注意事项</h1><pre><code>以下几点是特别需要主要：静态网络映射，时钟同步，系统资源配置\n</code></pre>\n<h2 id=\"3-1-静态网络映射\"><a href=\"#3-1-静态网络映射\" class=\"headerlink\" title=\"3.1 静态网络映射\"></a>3.1 静态网络映射</h2><p>首先获取子网IP，子网掩码，和网关地址</p>\n<p><img src=\"https://eelve.com/upload/2020/2/2020022918-006bef024d834c50bef94d415e3b3e05.png\" alt=\"2020022918\"><br><img src=\"https://eelve.com/upload/2020/2/2020022919-208c5c4049a847ff94be761f512e9dde.png\" alt=\"2020022919\"></p>\n<p>在最小化安装的CentOS7中，ifconfig是不能使用的，查看网卡信息的命令是：</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip addr</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://eelve.com/upload/2020/2/2020022920-57cff54e5cde4ddd96079ae6172070ae.png\" alt=\"2020022920\"></p>\n<p>其中“ens33”为网卡名称，根据得到网关和子网ip等修改IP地址等信息</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class=\"line\"></span><br><span class=\"line\">TYPE=Ethernet</span><br><span class=\"line\">PROXY_METHOD=none</span><br><span class=\"line\">BROWSER_ONLY=no</span><br><span class=\"line\">BOOTPROTO=static</span><br><span class=\"line\">DEFROUTE=yes</span><br><span class=\"line\">PEERROUTES=yes</span><br><span class=\"line\">IPV4_FAILURE_FATAL=no</span><br><span class=\"line\">IPV6INIT=yes</span><br><span class=\"line\">IPV6_AUTOCONF=yes</span><br><span class=\"line\">IPV6_DEFROUTE=yes</span><br><span class=\"line\">IPV6_FAILURE_FATAL=no</span><br><span class=\"line\">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class=\"line\">NAME=ens33</span><br><span class=\"line\">UUID=2cce262f-99d8-485e-aa8e-f2493405715a</span><br><span class=\"line\">DEVICE=ens33</span><br><span class=\"line\">ONBOOT=yes</span><br><span class=\"line\">IPADDR=192.168.237.11</span><br><span class=\"line\">GATEWAY=192.168.237.2</span><br><span class=\"line\">NETMASK=255.255.255.0</span><br><span class=\"line\">DNS1=192.168.237.2</span><br><span class=\"line\">DNS2=8.8.8.8</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>修改好后保存退出，并重启网络，测试网络是否连接正常：</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 ~]# service network restart</span><br><span class=\"line\">Restarting network (via systemctl):                        [  OK  ]</span><br><span class=\"line\">[root@192 ~]# ping www.eelve.com</span><br><span class=\"line\">PING www.eelve.com (47.98.209.166) 56(84) bytes of data.</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=1 ttl=128 time=38.1 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=2 ttl=128 time=38.7 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=3 ttl=128 time=39.4 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=4 ttl=128 time=51.3 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=5 ttl=128 time=38.1 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=6 ttl=128 time=37.9 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=7 ttl=128 time=44.5 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=8 ttl=128 time=37.7 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=9 ttl=128 time=37.9 ms</span><br><span class=\"line\">^C</span><br><span class=\"line\">--- www.eelve.com ping statistics ---</span><br><span class=\"line\">9 packets transmitted, 9 received, 0% packet loss, time 9110ms</span><br><span class=\"line\">rtt min/avg/max/mdev = 37.753/40.435/51.388/4.365 ms</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>到了这里我们就可以使用XShell用配置的静态IP来连接服务器使用了</p>\n<p><img src=\"https://eelve.com/upload/2020/2/2020022921-0f8c6a976821406081e228e76f359236.png\" alt=\"2020022921\"></p>\n<h2 id=\"3-2-时钟同步\"><a href=\"#3-2-时钟同步\" class=\"headerlink\" title=\"3.2 时钟同步\"></a>3.2 时钟同步</h2><p>yum进行软件安装，软件安装过程中如遇到询问，一律选择y，ntp是时间同步命令</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install ntp</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ntpdate time1.aliyun.com</span><br></pre></td></tr></table></figure>\n<p>然后就可以成功同步时间，然后查看</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 ~]# date</span><br><span class=\"line\">Sat Feb 29 18:08:31 CST 2020</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"3-3-系统资源配置\"><a href=\"#3-3-系统资源配置\" class=\"headerlink\" title=\"3.3 系统资源配置\"></a>3.3 系统资源配置</h2><p>系统资源的话，主要是虚拟机安装，都可以方便修改，这边后期要安装Elastic Stack，最好是稍微调大一点，内存至少为2G，因为Elasticsearch和Kibana都是需要用到Java虚拟机的，尤其是你准备把这两个服务都安装在一台机器上的话。</p>\n<hr>\n<p>【<strong>最后的话</strong>】时钟同步，是一定要配置的，不然会造成之后Elastic Stack中的服务不可用，当然也不是真的不可用，你只是会在Kibana中看不到你的数据映射，因为默认Kibana的时间展示参数为最近15分钟，如果你的时间相差很远的话，就可能造成Elasticsearch中能采集数据，但是Kibana展示不出来，这个对于初学者来说会造成Kibana数据不能映射问题，这点在后面会做具体介绍的。</p>\n<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","raw":null,"categories":[{"name":"Elastic-Stack","path":"api/categories/Elastic-Stack.json"}],"tags":[{"name":"ELK","path":"api/tags/ELK.json"},{"name":"Linux","path":"api/tags/Linux.json"},{"name":"VM","path":"api/tags/VM.json"}]},{"title":"Elastic Stack实战之环境准备本地版","slug":"Elastic-Stack实战之环境准备本地版","date":"2020-02-29T08:29:26.000Z","updated":"2021-04-19T07:47:19.519Z","comments":true,"path":"api/articles/Elastic-Stack实战之环境准备本地版.json","excerpt":null,"keywords":"南国薏米","cover":"https://image.eelve.com/eblog/2020030104-b3bb574e37fd4c9a959c5b8ba383033c.png","content":"<p>【<strong>前面的话</strong>】首先还是是简单说一下<a href=\"https://www.elastic.co/\">Elastic Stack</a>技术栈吧。ELK = Elasticsearch, Logstash, Kibana 是一套实时数据收集，存储，索引，检索，统计分析及可视化的解决方案。最新版本已经改名为Elastic Stack，并新增了Beats项目。</p>\n<p><img src=\"https://image.eelve.com/eblog/2020030104-b3bb574e37fd4c9a959c5b8ba383033c.png\" alt=\"2020030104\"><br><img src=\"https://image.eelve.com/eblog/2020030105-8644c0540b6041d9a726b0fdf31845a0.png\" alt=\"2020030105\"></p>\n<p><strong>Elasticsearch</strong></p>\n<pre><code>Elasticsearch 基于java，是个开源分布式搜索引擎，它的特点有：分布式，零配置，自动发现，索引自动分片，索引\n副本机制，restful风格接口，多数据源，自动搜索负载等。\n</code></pre>\n<p><strong>Logstash</strong></p>\n<pre><code>Logstash 基于java，是一个开源的用于收集,分析和存储日志的工具。\n</code></pre>\n<p><strong>Kibana</strong></p>\n<pre><code>Kibana 基于nodejs，也是一个开源和免费的工具，Kibana可以为 Logstash 和 ElasticSearch 提供的日志分析友好的\nWeb 界面，可以汇总、分析和搜索重要数据日志。\n</code></pre>\n<p><strong>Beats</strong></p>\n<pre><code>Beats是elastic公司开源的一款采集系统监控数据的代理agent，是在被监控服务器上以客户端形式运行的数据收集\n器的统称，可以直接把数据发送给Elasticsearch或者通过Logstash发送给Elasticsearch，然后进行后续的数据分析活\n动。\nBeats由如下组成:\nPacketbeat：是一个网络数据包分析器，用于监控、收集网络流量信息，Packetbeat嗅探服务器之间的流量，\n解析应用层协议，并关联到消息的处理，其支 持ICMP (v4 and v6)、DNS、HTTP、Mysql、PostgreSQL、\nRedis、MongoDB、Memcache等协议；\nFilebeat：用于监控、收集服务器日志文件，其已取代 logstash forwarder；\nMetricbeat：可定期获取外部系统的监控指标信息，其可以监控、收集 Apache、HAProxy、MongoDB\nMySQL、Nginx、PostgreSQL、Redis、System、Zookeeper等服务；\nWinlogbeat：用于监控、收集Windows系统的日志信息；\n</code></pre>\n<p>但是很多用户还是用ELK来代替Elastic Stack，并且目前的最新版本已经来到了7.6.0，在后面的实践过程中如果没有特指的话，都会是基于最新版本的实践。下面来说一下我的环境，我本人的云服务器，性能不是很够，这边我的解决方案是用虚拟机来解决。所以在这篇文章中是主要介绍在VM中搭建linux服务器的，并且为了资源不浪费，我这边会做最小化安装。</p>\n<hr>\n<h1 id=\"壹、软件版本\"><a href=\"#壹、软件版本\" class=\"headerlink\" title=\"壹、软件版本\"></a>壹、软件版本</h1><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">Centos：CentOS-7-x86_64-Minimal-1908</span></span><br><span class=\"line\"><span class=\"attr\">VM:</span> <span class=\"number\">15.5</span><span class=\"number\">.0</span> <span class=\"string\">build-14665864</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"贰、主要步骤\"><a href=\"#贰、主要步骤\" class=\"headerlink\" title=\"贰、主要步骤\"></a>贰、主要步骤</h1><pre><code>在网络中有很多安装的具体步骤，我子啊这里只是说一下容易出错的点。\n</code></pre>\n<h2 id=\"2-1-VM创建虚拟机\"><a href=\"#2-1-VM创建虚拟机\" class=\"headerlink\" title=\"2.1 VM创建虚拟机\"></a>2.1 VM创建虚拟机</h2><p><img src=\"https://image.eelve.com/eblog/2020022903-e627be2203d040a8aae53c43c767e582.png\" alt=\"2020022903\"><br><img src=\"https://image.eelve.com/eblog/2020022903-e627be2203d040a8aae53c43c767e582.png\" alt=\"2020022903\"><br><img src=\"https://image.eelve.com/eblog/2020022905-baf50368479142869e6d506e899f6623.png\" alt=\"2020022905\"><br><img src=\"https://image.eelve.com/eblog/2020022906-79511d7494064df9a76dbbb00a529757.png\" alt=\"2020022906\"><br><img src=\"https://image.eelve.com/eblog/2020022907-d16b584e859c43c794badd92ed116ccc.png\" alt=\"2020022907\"><br><img src=\"https://image.eelve.com/eblog/2020022911-e111cb9fe7d94935b0cd7b8613d6e278.png\" alt=\"2020022911\"></p>\n<h2 id=\"2-2-安装Centos7\"><a href=\"#2-2-安装Centos7\" class=\"headerlink\" title=\"2.2 安装Centos7\"></a>2.2 安装Centos7</h2><p><img src=\"https://image.eelve.com/eblog/2020022913-34b2a693fd0e4cfa9c6484063bc3a00c.png\" alt=\"2020022913\"><br><img src=\"https://image.eelve.com/eblog/2020022914-8fb414bf521544518671a2da4fb142f1.png\" alt=\"2020022914\"><br><img src=\"https://image.eelve.com/eblog/2020022915-d2e5d18a228448709a81391ce595bcff.png\" alt=\"2020022915\"><br><img src=\"https://image.eelve.com/eblog/2020022916-1ca2096fd9c945a4bdc1da5ea0c6c898.png\" alt=\"2020022916\"><br><img src=\"https://image.eelve.com/eblog/2020022917-10884dc7ec5348eebb35f8682e627281.png\" alt=\"2020022917\"></p>\n<h1 id=\"叁、注意事项\"><a href=\"#叁、注意事项\" class=\"headerlink\" title=\"叁、注意事项\"></a>叁、注意事项</h1><pre><code>以下几点是特别需要主要：静态网络映射，时钟同步，系统资源配置\n</code></pre>\n<h2 id=\"3-1-静态网络映射\"><a href=\"#3-1-静态网络映射\" class=\"headerlink\" title=\"3.1 静态网络映射\"></a>3.1 静态网络映射</h2><p>首先获取子网IP，子网掩码，和网关地址</p>\n<p><img src=\"https://image.eelve.com/eblog/2020022918-006bef024d834c50bef94d415e3b3e05.png\" alt=\"2020022918\"><br><img src=\"https://image.eelve.com/eblog/2020022919-208c5c4049a847ff94be761f512e9dde.png\" alt=\"2020022919\"></p>\n<p>在最小化安装的CentOS7中，ifconfig是不能使用的，查看网卡信息的命令是：</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip addr</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://image.eelve.com/eblog/2020022920-57cff54e5cde4ddd96079ae6172070ae.png\" alt=\"2020022920\"></p>\n<p>其中“ens33”为网卡名称，根据得到网关和子网ip等修改IP地址等信息</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class=\"line\"></span><br><span class=\"line\">TYPE=Ethernet</span><br><span class=\"line\">PROXY_METHOD=none</span><br><span class=\"line\">BROWSER_ONLY=no</span><br><span class=\"line\">BOOTPROTO=static</span><br><span class=\"line\">DEFROUTE=yes</span><br><span class=\"line\">PEERROUTES=yes</span><br><span class=\"line\">IPV4_FAILURE_FATAL=no</span><br><span class=\"line\">IPV6INIT=yes</span><br><span class=\"line\">IPV6_AUTOCONF=yes</span><br><span class=\"line\">IPV6_DEFROUTE=yes</span><br><span class=\"line\">IPV6_FAILURE_FATAL=no</span><br><span class=\"line\">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class=\"line\">NAME=ens33</span><br><span class=\"line\">UUID=2cce262f-99d8-485e-aa8e-f2493405715a</span><br><span class=\"line\">DEVICE=ens33</span><br><span class=\"line\">ONBOOT=yes</span><br><span class=\"line\">IPADDR=192.168.237.11</span><br><span class=\"line\">GATEWAY=192.168.237.2</span><br><span class=\"line\">NETMASK=255.255.255.0</span><br><span class=\"line\">DNS1=192.168.237.2</span><br><span class=\"line\">DNS2=8.8.8.8</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>修改好后保存退出，并重启网络，测试网络是否连接正常：</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 ~]# service network restart</span><br><span class=\"line\">Restarting network (via systemctl):                        [  OK  ]</span><br><span class=\"line\">[root@192 ~]# ping www.eelve.com</span><br><span class=\"line\">PING www.eelve.com (47.98.209.166) 56(84) bytes of data.</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=1 ttl=128 time=38.1 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=2 ttl=128 time=38.7 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=3 ttl=128 time=39.4 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=4 ttl=128 time=51.3 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=5 ttl=128 time=38.1 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=6 ttl=128 time=37.9 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=7 ttl=128 time=44.5 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=8 ttl=128 time=37.7 ms</span><br><span class=\"line\">64 bytes from 47.98.209.166 (47.98.209.166): icmp_seq=9 ttl=128 time=37.9 ms</span><br><span class=\"line\">^C</span><br><span class=\"line\">--- www.eelve.com ping statistics ---</span><br><span class=\"line\">9 packets transmitted, 9 received, 0% packet loss, time 9110ms</span><br><span class=\"line\">rtt min/avg/max/mdev = 37.753/40.435/51.388/4.365 ms</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>到了这里我们就可以使用XShell用配置的静态IP来连接服务器使用了</p>\n<p><img src=\"https://image.eelve.com/eblog/2020022921-0f8c6a976821406081e228e76f359236.png\" alt=\"2020022921\"></p>\n<h2 id=\"3-2-时钟同步\"><a href=\"#3-2-时钟同步\" class=\"headerlink\" title=\"3.2 时钟同步\"></a>3.2 时钟同步</h2><p>yum进行软件安装，软件安装过程中如遇到询问，一律选择y，ntp是时间同步命令</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install ntp</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ntpdate time1.aliyun.com</span><br></pre></td></tr></table></figure>\n<p>然后就可以成功同步时间，然后查看</p>\n<figure class=\"highlight shell\"><figcaption><span>script</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@192 ~]# date</span><br><span class=\"line\">Sat Feb 29 18:08:31 CST 2020</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"3-3-系统资源配置\"><a href=\"#3-3-系统资源配置\" class=\"headerlink\" title=\"3.3 系统资源配置\"></a>3.3 系统资源配置</h2><p>系统资源的话，主要是虚拟机安装，都可以方便修改，这边后期要安装Elastic Stack，最好是稍微调大一点，内存至少为2G，因为Elasticsearch和Kibana都是需要用到Java虚拟机的，尤其是你准备把这两个服务都安装在一台机器上的话。</p>\n<hr>\n<p>【<strong>最后的话</strong>】时钟同步，是一定要配置的，不然会造成之后Elastic Stack中的服务不可用，当然也不是真的不可用，你只是会在Kibana中看不到你的数据映射，因为默认Kibana的时间展示参数为最近15分钟，如果你的时间相差很远的话，就可能造成Elasticsearch中能采集数据，但是Kibana展示不出来，这个对于初学者来说会造成Kibana数据不能映射问题，这点在后面会做具体介绍的。</p>\n<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","raw":null,"categories":[{"name":"hide","path":"api/categories/hide.json"}],"tags":[{"name":"hide","path":"api/tags/hide.json"}]},{"title":"怎么优雅的使用hexo","slug":"怎么优雅的使用hexo本地版","date":"2020-02-23T14:20:58.000Z","updated":"2021-04-19T06:44:39.241Z","comments":true,"path":"api/articles/怎么优雅的使用hexo本地版.json","excerpt":null,"keywords":"南国薏米","cover":"https://eelve.com/upload/2020/2/20200223011-1816538384854e64bb090740d8ea0621.png","content":"<p>【<strong>前情提要</strong>】在使用<a href=\"https://hexo.io/zh-cn/\">hexo</a>搭建自己的个人博客前，我一直使用<a href=\"https://halo.run/\">Halo</a>来搭建自己的博客。但是还是决定用hexo再搭建一个博客，主要是为了让自己在Github上留下自己的印记。</p>\n<hr>\n<p>关于hexo的基础使用知识我在这里就不做过多的介绍了，如果是在是不知道可以看以下<a href=\"https://hexo.io/zh-cn/docs/\">官方文档</a>。我这里主要说一下怎么用Github保存博客源代码和生成的网站代码。</p>\n<ul>\n<li>1.新建一个分支用来保存博客源代码，并且设为默认分支，如下图所示<br><img src=\"https://eelve.com/upload/2020/2/20200223011-1816538384854e64bb090740d8ea0621.png\" alt=\"20200223011\"></li>\n<li>2.执行hexo d -g上传博客内容</li>\n<li>3.使用git命令提交源代码到eblog分支</li>\n<li>*这样当你换电脑或者重新构建项目的时候就可以从github拉去代码就可以进行继续编写了，是不是很方便**</li>\n</ul>\n<hr>\n<p>【<strong>小贴士</strong>】常用hexo插件</p>\n<ul>\n<li>1.permalink_pinyin,将文章标题中的汉字转为拼音，有利于SEO<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">permalink_pinyin:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">separator:</span> <span class=\"string\">&#x27;-&#x27;</span> <span class=\"comment\"># default: &#x27;-&#x27;</span></span><br></pre></td></tr></table></figure></li>\n<li>2.hexo-generator-cname,避免每次提交之后都要重新配置博客域名的工作<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#设置保存CNAME的插件</span></span><br><span class=\"line\"><span class=\"attr\">Plugins:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">hexo-generator-cname</span></span><br></pre></td></tr></table></figure></li>\n<li>3.提交博客之前最好可以预览一遍，一般出现样式不正确之后，记得使用hexo clean命令哦</li>\n</ul>\n<hr>\n<p>最后附上一个我的博客的基本配置</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Hexo Configuration</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class=\"line\"><span class=\"comment\">## Source: https://github.com/hexojs/hexo/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Site</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">南国薏米</span></span><br><span class=\"line\"><span class=\"attr\">subtitle:</span> <span class=\"string\">南国不须收薏苡,百年终竟是芭蕉。</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">A</span> <span class=\"string\">human</span> <span class=\"string\">being,who</span> <span class=\"string\">loves</span> <span class=\"string\">football</span> <span class=\"string\">and</span> <span class=\"string\">music.</span></span><br><span class=\"line\"><span class=\"attr\">keywords:</span> <span class=\"string\">南国薏米</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">Chillo</span></span><br><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">zh-CN</span></span><br><span class=\"line\"><span class=\"attr\">timezone:</span> <span class=\"string\">Asia/Shanghai</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># URL</span></span><br><span class=\"line\"><span class=\"comment\">## If your site is put in a subdirectory, set url as &#x27;http://yoursite.com/child&#x27; and root as &#x27;/child/&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">url:</span> <span class=\"string\">http://zzlve.win</span></span><br><span class=\"line\"><span class=\"attr\">root:</span> <span class=\"string\">/</span></span><br><span class=\"line\"><span class=\"attr\">permalink:</span> <span class=\"string\">:year/:month/:day/:title/</span></span><br><span class=\"line\"><span class=\"attr\">permalink_defaults:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Directory</span></span><br><span class=\"line\"><span class=\"attr\">source_dir:</span> <span class=\"string\">source</span></span><br><span class=\"line\"><span class=\"attr\">public_dir:</span> <span class=\"string\">public</span></span><br><span class=\"line\"><span class=\"attr\">tag_dir:</span> <span class=\"string\">tags</span></span><br><span class=\"line\"><span class=\"attr\">archive_dir:</span> <span class=\"string\">archives</span></span><br><span class=\"line\"><span class=\"attr\">category_dir:</span> <span class=\"string\">categories</span></span><br><span class=\"line\"><span class=\"attr\">code_dir:</span> <span class=\"string\">downloads/code</span></span><br><span class=\"line\"><span class=\"attr\">i18n_dir:</span> <span class=\"string\">:lang</span></span><br><span class=\"line\"><span class=\"attr\">skip_render:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Writing</span></span><br><span class=\"line\"><span class=\"attr\">new_post_name:</span> <span class=\"string\">:title.md</span> <span class=\"comment\"># File name of new posts</span></span><br><span class=\"line\"><span class=\"attr\">default_layout:</span> <span class=\"string\">post</span></span><br><span class=\"line\"><span class=\"attr\">titlecase:</span> <span class=\"literal\">false</span> <span class=\"comment\"># Transform title into titlecase</span></span><br><span class=\"line\"><span class=\"attr\">external_link:</span> <span class=\"literal\">true</span> <span class=\"comment\"># Open external links in new tab</span></span><br><span class=\"line\"><span class=\"attr\">filename_case:</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attr\">render_drafts:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">post_asset_folder:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">relative_link:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">future:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">highlight:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">line_number:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">auto_detect:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">tab_replace:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Home page setting</span></span><br><span class=\"line\"><span class=\"comment\"># path: Root path for your blogs index page. (default = &#x27;&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class=\"line\"><span class=\"comment\"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class=\"line\"><span class=\"attr\">index_generator:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">per_page:</span> <span class=\"number\">10</span></span><br><span class=\"line\">  <span class=\"attr\">order_by:</span> <span class=\"string\">-date</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Category &amp; Tag</span></span><br><span class=\"line\"><span class=\"attr\">default_category:</span> <span class=\"string\">uncategorized</span></span><br><span class=\"line\"><span class=\"attr\">category_map:</span></span><br><span class=\"line\"><span class=\"attr\">tag_map:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Date / Time format</span></span><br><span class=\"line\"><span class=\"comment\">## Hexo uses Moment.js to parse and display date</span></span><br><span class=\"line\"><span class=\"comment\">## You can customize the date format as defined in</span></span><br><span class=\"line\"><span class=\"comment\">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class=\"line\"><span class=\"attr\">date_format:</span> <span class=\"string\">YYYY-MM-DD</span></span><br><span class=\"line\"><span class=\"attr\">time_format:</span> <span class=\"string\">HH:mm:ss</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Pagination</span></span><br><span class=\"line\"><span class=\"comment\">## Set per_page to 0 to disable pagination</span></span><br><span class=\"line\"><span class=\"attr\">per_page:</span> <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attr\">pagination_dir:</span> <span class=\"string\">page</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Extensions</span></span><br><span class=\"line\"><span class=\"comment\">## Plugins: https://hexo.io/plugins/</span></span><br><span class=\"line\"><span class=\"comment\">## Themes: https://hexo.io/themes/</span></span><br><span class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">next</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Deployment</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">  <span class=\"attr\">repo:</span> <span class=\"string\">https://github.com/eelve/eelve.github.io.git</span></span><br><span class=\"line\">  <span class=\"attr\">branch:</span> <span class=\"string\">master</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#设置保存CNAME的插件</span></span><br><span class=\"line\"><span class=\"attr\">Plugins:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">hexo-generator-cname</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">feed:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">atom</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">atom.xml</span></span><br><span class=\"line\">  <span class=\"attr\">limit:</span> <span class=\"number\">20</span></span><br><span class=\"line\"><span class=\"attr\">plugins:</span> <span class=\"string\">hexo-generate-feed</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">search:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">search.xml</span></span><br><span class=\"line\">  <span class=\"attr\">field:</span> <span class=\"string\">post</span></span><br><span class=\"line\">  <span class=\"attr\">format:</span> <span class=\"string\">html</span></span><br><span class=\"line\">  <span class=\"attr\">limit:</span> <span class=\"number\">10000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">permalink_pinyin:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">separator:</span> <span class=\"string\">&#x27;-&#x27;</span> <span class=\"comment\"># default: &#x27;-&#x27;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","raw":null,"categories":[{"name":"hide","path":"api/categories/hide.json"}],"tags":[{"name":"hide","path":"api/tags/hide.json"}]},{"title":"怎么优雅的使用hexo","slug":"怎么优雅的使用hexo","date":"2020-02-23T14:20:58.000Z","updated":"2021-04-19T06:44:39.238Z","comments":true,"path":"api/articles/怎么优雅的使用hexo.json","excerpt":null,"keywords":"南国薏米","cover":"https://image.eelve.com/eblog/20200223011-1816538384854e64bb090740d8ea0621.png","content":"<p>【<strong>前情提要</strong>】在使用<a href=\"https://hexo.io/zh-cn/\">hexo</a>搭建自己的个人博客前，我一直使用<a href=\"https://halo.run/\">Halo</a>来搭建自己的博客。但是还是决定用hexo再搭建一个博客，主要是为了让自己在Github上留下自己的印记。</p>\n<hr>\n<p>关于hexo的基础使用知识我在这里就不做过多的介绍了，如果是在是不知道可以看以下<a href=\"https://hexo.io/zh-cn/docs/\">官方文档</a>。我这里主要说一下怎么用Github保存博客源代码和生成的网站代码。</p>\n<ul>\n<li>1.新建一个分支用来保存博客源代码，并且设为默认分支，如下图所示<br><img src=\"https://image.eelve.com/eblog/20200223011-1816538384854e64bb090740d8ea0621.png\" alt=\"20200223011\"></li>\n<li>2.执行hexo d -g上传博客内容</li>\n<li>3.使用git命令提交源代码到eblog分支</li>\n<li>*这样当你换电脑或者重新构建项目的时候就可以从github拉去代码就可以进行继续编写了，是不是很方便**</li>\n</ul>\n<hr>\n<p>【<strong>小贴士</strong>】常用hexo插件</p>\n<ul>\n<li>1.permalink_pinyin,将文章标题中的汉字转为拼音，有利于SEO<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">permalink_pinyin:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">separator:</span> <span class=\"string\">&#x27;-&#x27;</span> <span class=\"comment\"># default: &#x27;-&#x27;</span></span><br></pre></td></tr></table></figure></li>\n<li>2.hexo-generator-cname,避免每次提交之后都要重新配置博客域名的工作<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#设置保存CNAME的插件</span></span><br><span class=\"line\"><span class=\"attr\">Plugins:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">hexo-generator-cname</span></span><br></pre></td></tr></table></figure></li>\n<li>3.提交博客之前最好可以预览一遍，一般出现样式不正确之后，记得使用hexo clean命令哦</li>\n</ul>\n<hr>\n<p>最后附上一个我的博客的基本配置</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Hexo Configuration</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class=\"line\"><span class=\"comment\">## Source: https://github.com/hexojs/hexo/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Site</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">南国薏米</span></span><br><span class=\"line\"><span class=\"attr\">subtitle:</span> <span class=\"string\">南国不须收薏苡,百年终竟是芭蕉。</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">A</span> <span class=\"string\">human</span> <span class=\"string\">being,who</span> <span class=\"string\">loves</span> <span class=\"string\">football</span> <span class=\"string\">and</span> <span class=\"string\">music.</span></span><br><span class=\"line\"><span class=\"attr\">keywords:</span> <span class=\"string\">南国薏米</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">Chillo</span></span><br><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">zh-CN</span></span><br><span class=\"line\"><span class=\"attr\">timezone:</span> <span class=\"string\">Asia/Shanghai</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># URL</span></span><br><span class=\"line\"><span class=\"comment\">## If your site is put in a subdirectory, set url as &#x27;http://yoursite.com/child&#x27; and root as &#x27;/child/&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">url:</span> <span class=\"string\">http://zzlve.win</span></span><br><span class=\"line\"><span class=\"attr\">root:</span> <span class=\"string\">/</span></span><br><span class=\"line\"><span class=\"attr\">permalink:</span> <span class=\"string\">:year/:month/:day/:title/</span></span><br><span class=\"line\"><span class=\"attr\">permalink_defaults:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Directory</span></span><br><span class=\"line\"><span class=\"attr\">source_dir:</span> <span class=\"string\">source</span></span><br><span class=\"line\"><span class=\"attr\">public_dir:</span> <span class=\"string\">public</span></span><br><span class=\"line\"><span class=\"attr\">tag_dir:</span> <span class=\"string\">tags</span></span><br><span class=\"line\"><span class=\"attr\">archive_dir:</span> <span class=\"string\">archives</span></span><br><span class=\"line\"><span class=\"attr\">category_dir:</span> <span class=\"string\">categories</span></span><br><span class=\"line\"><span class=\"attr\">code_dir:</span> <span class=\"string\">downloads/code</span></span><br><span class=\"line\"><span class=\"attr\">i18n_dir:</span> <span class=\"string\">:lang</span></span><br><span class=\"line\"><span class=\"attr\">skip_render:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Writing</span></span><br><span class=\"line\"><span class=\"attr\">new_post_name:</span> <span class=\"string\">:title.md</span> <span class=\"comment\"># File name of new posts</span></span><br><span class=\"line\"><span class=\"attr\">default_layout:</span> <span class=\"string\">post</span></span><br><span class=\"line\"><span class=\"attr\">titlecase:</span> <span class=\"literal\">false</span> <span class=\"comment\"># Transform title into titlecase</span></span><br><span class=\"line\"><span class=\"attr\">external_link:</span> <span class=\"literal\">true</span> <span class=\"comment\"># Open external links in new tab</span></span><br><span class=\"line\"><span class=\"attr\">filename_case:</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attr\">render_drafts:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">post_asset_folder:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">relative_link:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">future:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">highlight:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">line_number:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">auto_detect:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">tab_replace:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Home page setting</span></span><br><span class=\"line\"><span class=\"comment\"># path: Root path for your blogs index page. (default = &#x27;&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class=\"line\"><span class=\"comment\"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class=\"line\"><span class=\"attr\">index_generator:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">per_page:</span> <span class=\"number\">10</span></span><br><span class=\"line\">  <span class=\"attr\">order_by:</span> <span class=\"string\">-date</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Category &amp; Tag</span></span><br><span class=\"line\"><span class=\"attr\">default_category:</span> <span class=\"string\">uncategorized</span></span><br><span class=\"line\"><span class=\"attr\">category_map:</span></span><br><span class=\"line\"><span class=\"attr\">tag_map:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Date / Time format</span></span><br><span class=\"line\"><span class=\"comment\">## Hexo uses Moment.js to parse and display date</span></span><br><span class=\"line\"><span class=\"comment\">## You can customize the date format as defined in</span></span><br><span class=\"line\"><span class=\"comment\">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class=\"line\"><span class=\"attr\">date_format:</span> <span class=\"string\">YYYY-MM-DD</span></span><br><span class=\"line\"><span class=\"attr\">time_format:</span> <span class=\"string\">HH:mm:ss</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Pagination</span></span><br><span class=\"line\"><span class=\"comment\">## Set per_page to 0 to disable pagination</span></span><br><span class=\"line\"><span class=\"attr\">per_page:</span> <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attr\">pagination_dir:</span> <span class=\"string\">page</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Extensions</span></span><br><span class=\"line\"><span class=\"comment\">## Plugins: https://hexo.io/plugins/</span></span><br><span class=\"line\"><span class=\"comment\">## Themes: https://hexo.io/themes/</span></span><br><span class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">next</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Deployment</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">  <span class=\"attr\">repo:</span> <span class=\"string\">https://github.com/eelve/eelve.github.io.git</span></span><br><span class=\"line\">  <span class=\"attr\">branch:</span> <span class=\"string\">master</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#设置保存CNAME的插件</span></span><br><span class=\"line\"><span class=\"attr\">Plugins:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">hexo-generator-cname</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">feed:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">atom</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">atom.xml</span></span><br><span class=\"line\">  <span class=\"attr\">limit:</span> <span class=\"number\">20</span></span><br><span class=\"line\"><span class=\"attr\">plugins:</span> <span class=\"string\">hexo-generate-feed</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">search:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">search.xml</span></span><br><span class=\"line\">  <span class=\"attr\">field:</span> <span class=\"string\">post</span></span><br><span class=\"line\">  <span class=\"attr\">format:</span> <span class=\"string\">html</span></span><br><span class=\"line\">  <span class=\"attr\">limit:</span> <span class=\"number\">10000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">permalink_pinyin:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">separator:</span> <span class=\"string\">&#x27;-&#x27;</span> <span class=\"comment\"># default: &#x27;-&#x27;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","raw":null,"categories":[{"name":"hexo","path":"api/categories/hexo.json"}],"tags":[{"name":"hexo","path":"api/tags/hexo.json"}]},{"title":"SpringCloud之漫谈微服务","slug":"SpringCloud之漫谈微服务","date":"2019-08-31T07:28:01.000Z","updated":"2021-04-19T06:44:39.134Z","comments":true,"path":"api/articles/SpringCloud之漫谈微服务.json","excerpt":null,"keywords":"南国薏米","cover":"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png","content":"<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","raw":null,"categories":[{"name":"hide","path":"api/categories/hide.json"}],"tags":[{"name":"hide","path":"api/tags/hide.json"}]},{"title":"SpringCloud之Log","slug":"SpringCloud之Log","date":"2019-08-31T07:27:42.000Z","updated":"2021-04-19T06:44:39.089Z","comments":true,"path":"api/articles/SpringCloud之Log.json","excerpt":null,"keywords":"南国薏米","cover":"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png","content":"<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","raw":null,"categories":[{"name":"hide","path":"api/categories/hide.json"}],"tags":[{"name":"hide","path":"api/tags/hide.json"}]},{"title":"SpringCloud之Gateway","slug":"SpringCloud之Gateway","date":"2019-08-31T07:27:19.000Z","updated":"2021-04-19T06:44:39.095Z","comments":true,"path":"api/articles/SpringCloud之Gateway.json","excerpt":null,"keywords":"南国薏米","cover":"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png","content":"<hr>\n<p><img src=\"https://image.eelve.com/eblog/eblog-b269767ff45b4e01a1c380e38898c1c0.png\" alt=\"薏米笔记\"></p>\n","raw":null,"categories":[{"name":"hide","path":"api/categories/hide.json"}],"tags":[{"name":"hide","path":"api/tags/hide.json"}]}]}